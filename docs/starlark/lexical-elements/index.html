<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Lexical elements - AsCode - Terraform Alternative Syntax</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://ascode.run/images/favicon.png><link rel=stylesheet href=/css/style.min.df49831c6872564dff31a5f0978a9571f2c8110b513d4b3b1fc8ead41dcdc9f0.css></head><body class="page page-default-single"><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-home><a href=/><span>Home</span></a></li><li class=menu-item-docs><a href=/docs/><span>Docs</span></a></li><li class=menu-item-github><a href=https://github.com/mcuadros/ascode><span>GitHub</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href=https://ascode.run><img alt=Logo src=/images/logo-header.svg></a></div><div class=logo-mobile><a href=https://ascode.run><img alt=Logo src=/images/logo-header.svg></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-home><a href=/><span>Home</span></a></li><li class=menu-item-docs><a href=/docs/><span>Docs</span></a></li><li class=menu-item-github><a href=https://github.com/mcuadros/ascode><span>GitHub</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="main container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-md-3 mb-3"><div class=sidebar><div class=docs-menu><h4><a href=/docs/starlark/>Language definition</a></h4><ul><li><a class=active href=/docs/starlark/lexical-elements/>Lexical elements</a></li><li><a href=/docs/starlark/data-types/>Data types</a></li><li><a href=/docs/starlark/name-binding-and-variables/>Name binding and variables</a></li><li><a href=/docs/starlark/value-concepts/>Value concepts</a></li><li><a href=/docs/starlark/expressions/>Expressions</a></li><li><a href=/docs/starlark/statements/>Statements</a></li><li><a href=/docs/starlark/module-execution/>Module execution</a></li><li><a href=/docs/starlark/built-in-constants-and-functions/>Built-in constants and functions</a></li><li><a href=/docs/starlark/built-in-methods/>Built-in methods</a></li><li><a href=/docs/starlark/dialect-differences/>Dialect differences</a></li></ul></div><div style=font-size:90%;margin-top:40px><a href=/docs/>« Documentation</a></div></div></div><div class="col-12 col-md-9"><h1 class=title>Lexical elements</h1><div class=content><p>A Starlark program consists of one or more modules.
Each module is defined by a single UTF-8-encoded text file.</p><p>A complete grammar of Starlark can be found in <a href=https://github.com/google/starlark-go/blob/master/syntax/grammar.txt>grammar.txt</a>.
That grammar is presented piecemeal throughout this document
in boxes such as this one, which explains the notation:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>Grammar notation

- lowercase and &#39;quoted&#39; items are lexical tokens.
- Capitalized names denote grammar productions.
- (...) implies grouping.
- x | y means either x or y.
- [x] means x is optional.
- {x} means x is repeated zero or more times.
- The end of each declaration is marked with a period.
</code></pre></div><p>The contents of a Starlark file are broken into a sequence of tokens of
five kinds: white space, punctuation, keywords, identifiers, and literals.
Each token is formed from the longest sequence of characters that
would form a valid token of each kind.</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>File = {Statement | newline} eof .
</code></pre></div><p><em>White space</em> consists of spaces (U+0020), tabs (U+0009), carriage
returns (U+000D), and newlines (U+000A). Within a line, white space
has no effect other than to delimit the previous token, but newlines,
and spaces at the start of a line, are significant tokens.</p><p><em>Comments</em>: A hash character (<code>#</code>) appearing outside of a string
literal marks the start of a comment; the comment extends to the end
of the line, not including the newline character.
Comments are treated like other white space.</p><p><em>Punctuation</em>: The following punctuation characters or sequences of
characters are tokens:</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>+    -    *    /    //   %    =
+=   -=   *=   /=   //=  %=   ==   !=
^    &lt;    &gt;    &lt;&lt;   &gt;&gt;   &amp;    |
^=   &lt;=   &gt;=   &lt;&lt;=  &gt;&gt;=  &amp;=   |=
.    ,    ;    :    ~    **
(    )    [    ]    {    }
</code></pre></div><p><em>Keywords</em>: The following tokens are keywords and may not be used as
identifiers:</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>and            elif           in             or
break          else           lambda         pass
continue       for            load           return
def            if             not            while
</code></pre></div><p>The tokens below also may not be used as identifiers although they do not
appear in the grammar; they are reserved as possible future keywords:</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>as             finally        nonlocal
assert         from           raise
class          global         try
del            import         with
except         is             yield
</code></pre></div><p><b>Implementation note:</b>
The Go implementation permits <code>assert</code> to be used as an identifier,
and this feature is widely used in its tests.</p><p><em>Identifiers</em>: an identifier is a sequence of Unicode letters, decimal
digits, and underscores (<code>_</code>), not starting with a digit.
Identifiers are used as names for values.</p><p>Examples:</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>None    True    len
x       index   starts_with     arg0
</code></pre></div><p><em>Literals</em>: literals are tokens that denote specific values. Starlark
has string, integer, and floating-point literals.</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>0                               # int
123                             # decimal int
0x7f                            # hexadecimal int
0o755                           # octal int
0b1011                          # binary int

0.0     0.       .0             # float
1e10    1e+10    1e-10
1.1e10  1.1e+10  1.1e-10

&#34;hello&#34;      &#39;hello&#39;            # string
&#39;&#39;&#39;hello&#39;&#39;&#39;  &#34;&#34;&#34;hello&#34;&#34;&#34;        # triple-quoted string
r&#39;hello&#39;     r&#34;hello&#34;           # raw string literal
</code></pre></div><p>Integer and floating-point literal tokens are defined by the following grammar:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>int         = decimal_lit | octal_lit | hex_lit | binary_lit .
decimal_lit = (&#39;1&#39; … &#39;9&#39;) {decimal_digit} | &#39;0&#39; .
octal_lit   = &#39;0&#39; (&#39;o&#39;|&#39;O&#39;) octal_digit {octal_digit} .
hex_lit     = &#39;0&#39; (&#39;x&#39;|&#39;X&#39;) hex_digit {hex_digit} .
binary_lit  = &#39;0&#39; (&#39;b&#39;|&#39;B&#39;) binary_digit {binary_digit} .

float     = decimals &#39;.&#39; [decimals] [exponent]
          | decimals exponent
          | &#39;.&#39; decimals [exponent]
          .
decimals  = decimal_digit {decimal_digit} .
exponent  = (&#39;e&#39;|&#39;E&#39;) [&#39;+&#39;|&#39;-&#39;] decimals .

decimal_digit = &#39;0&#39; … &#39;9&#39; .
octal_digit   = &#39;0&#39; … &#39;7&#39; .
hex_digit     = &#39;0&#39; … &#39;9&#39; | &#39;A&#39; … &#39;F&#39; | &#39;a&#39; … &#39;f&#39; .
binary_digit  = &#39;0&#39; | &#39;1&#39; .
</code></pre></div><h2 id=string-literals>String literals</h2><p>A Starlark string literal denotes a string value.
In its simplest form, it consists of the desired text
surrounded by matching single- or double-quotation marks:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=s2>&#34;abc&#34;</span>
<span class=s1>&#39;abc&#39;</span>
</code></pre></div><p>Literal occurrences of the chosen quotation mark character must be
escaped by a preceding backslash. So, if a string contains several
of one kind of quotation mark, it may be convenient to quote the string
using the other kind, as in these examples:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=s1>&#39;Have you read &#34;To Kill a Mockingbird?&#34;&#39;</span>
<span class=s2>&#34;Yes, it&#39;s a classic.&#34;</span>

<span class=s2>&#34;Have you read </span><span class=se>\&#34;</span><span class=s2>To Kill a Mockingbird?</span><span class=se>\&#34;</span><span class=s2>&#34;</span>
<span class=s1>&#39;Yes, it</span><span class=se>\&#39;</span><span class=s1>s a classic.&#39;</span>
</code></pre></div><h3 id=string-escapes>String escapes</h3><p>Within a string literal, the backslash character <code>\</code> indicates the
start of an <em>escape sequence</em>, a notation for expressing things that
are impossible or awkward to write directly.</p><p>The following <em>traditional escape sequences</em> represent the ASCII control
codes 7-13:</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>\a   \x07 alert or bell
\b   \x08 backspace
\f   \x0C form feed
\n   \x0A line feed
\r   \x0D carriage return
\t   \x09 horizontal tab
\v   \x0B vertical tab
</code></pre></div><p>A <em>literal backslash</em> is written using the escape <code>\\</code>.</p><p>An <em>escaped newline</em>&mdash;that is, a backslash at the end of a line&mdash;is ignored,
allowing a long string to be split across multiple lines of the source file.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=s2>&#34;abc</span><span class=se>\
</span><span class=se></span><span class=s2>def&#34;</span>			<span class=c1># &#34;abcdef&#34;</span>
</code></pre></div><p>An <em>octal escape</em> encodes a single byte using its octal value.
It consists of a backslash followed by one, two, or three octal digits [0-7].
It is error if the value is greater than decimal 255.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=s1>&#39;</span><span class=se>\0</span><span class=s1>&#39;</span>			<span class=c1># &#34;\x00&#34;  a string containing a single NUL byte</span>
<span class=s1>&#39;</span><span class=se>\12</span><span class=s1>&#39;</span>			<span class=c1># &#34;\n&#34;    octal 12 = decimal 10</span>
<span class=s1>&#39;</span><span class=se>\101</span><span class=s1>-</span><span class=se>\132</span><span class=s1>&#39;</span>		<span class=c1># &#34;A-Z&#34;</span>
<span class=s1>&#39;</span><span class=se>\11</span><span class=s1>9&#39;</span>			<span class=c1># &#34;\t9&#34;   = &#34;\11&#34; + &#34;9&#34;</span>
</code></pre></div><p><b>Implementation note:</b>
The Java implementation encodes strings using UTF-16,
so an octal escape encodes a single UTF-16 code unit.
Octal escapes for values above 127 are therefore not portable across implementations.
There is little reason to use octal escapes in new code.</p><p>A <em>hex escape</em> encodes a single byte using its hexadecimal value.
It consists of <code>\x</code> followed by exactly two hexadecimal digits [0-9A-Fa-f].</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=s2>&#34;</span><span class=se>\x00</span><span class=s2>&#34;</span>			<span class=c1># &#34;\x00&#34;  a string containing a single NUL byte</span>
<span class=s2>&#34;(</span><span class=se>\x20</span><span class=s2>)&#34;</span>		<span class=c1># &#34;( )&#34;   ASCII 0x20 = 32 = space</span>

<span class=n>red</span><span class=p>,</span> <span class=n>reset</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=se>\x1b</span><span class=s2>[31m&#34;</span><span class=p>,</span> <span class=s2>&#34;</span><span class=se>\x1b</span><span class=s2>[0m&#34;</span>	<span class=c1># ANSI terminal control codes for color</span>
<span class=s2>&#34;(&#34;</span> <span class=o>+</span> <span class=n>red</span> <span class=o>+</span> <span class=s2>&#34;hello&#34;</span> <span class=o>+</span> <span class=n>reset</span> <span class=o>+</span> <span class=s2>&#34;)&#34;</span>	<span class=c1># &#34;(hello)&#34; with red text, if on a terminal</span>
</code></pre></div><p><b>Implementation note:</b>
The Java implementation does not support hex escapes.</p><p>An ordinary string literal may not contain an unescaped newline,
but a <em>multiline string literal</em> may spread over multiple source lines.
It is denoted using three quotation marks at start and end.
Within it, unescaped newlines and quotation marks (or even pairs of
quotation marks) have their literal meaning, but three quotation marks
end the literal. This makes it easy to quote large blocks of text with
few escapes.</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>haiku = &#39;&#39;&#39;
Yesterday it worked.
Today it is not working.
That&#39;s computers. Sigh.
&#39;&#39;&#39;
</code></pre></div><p>Regardless of the platform&rsquo;s convention for text line endings&mdash;for
example, a linefeed (\n) on UNIX, or a carriage return followed by a
linefeed (\r\n) on Microsoft Windows&mdash;an unescaped line ending in a
multiline string literal always denotes a line feed (\n).</p><p>Starlark also supports <em>raw string literals</em>, which look like an
ordinary single- or double-quotation preceded by <code>r</code>. Within a raw
string literal, there is no special processing of backslash escapes,
other than an escaped quotation mark (which denotes a literal
quotation mark), or an escaped newline (which denotes a backslash
followed by a newline). This form of quotation is typically used when
writing strings that contain many quotation marks or backslashes (such
as regular expressions or shell commands) to reduce the burden of
escaping:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=s2>&#34;a</span><span class=se>\n</span><span class=s2>b&#34;</span>		<span class=c1># &#34;a\nb&#34;  = &#39;a&#39; + &#39;\n&#39; + &#39;b&#39;</span>
<span class=sa>r</span><span class=s2>&#34;a\nb&#34;</span>		<span class=c1># &#34;a\\nb&#34; = &#39;a&#39; + &#39;\\&#39; + &#39;\n&#39; + &#39;b&#39;</span>

<span class=s2>&#34;a</span><span class=se>\
</span><span class=se></span><span class=s2>b&#34;</span>		<span class=c1># &#34;ab&#34;</span>
<span class=sa>r</span><span class=s2>&#34;a</span><span class=se>\
</span><span class=se></span><span class=s2>b&#34;</span>		<span class=c1># &#34;a\\\nb&#34;</span>
</code></pre></div><p>It is an error for a backslash to appear within a string literal other
than as part of one of the escapes described above.</p><p>TODO: define indent, outdent, semicolon, newline, eof</p></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul><li><a href=https://github.com/mcuadros/ascod>Documentation version v1.1.0</a></li><li>Template by <a href=https://www.zerostatic.io>Robert Austin</a></li></ul></div></div></div></div><script type=text/javascript src=/js/scripts.min.be6fe1294698d6acd837c5182149cd1a24daae9fa1903ce810c264539d254d62.js></script></body></html>